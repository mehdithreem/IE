/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
create table DECLARATION (ID integer not null, COUNTRY varchar(255), STATUS varchar(255), TIME date, TRANSPORT_TYPE varchar(255), merchant_NID varchar(255), primary key (ID))
create table DECLARATION_GOODS (Declaration_ID integer not null, goods_ID integer not null)
create table DECLARATION_Permission (Declaration_ID integer not null, pendingPermission_ID integer not null, issuedPermission_ID integer not null)
create table GOODS (ID integer not null, CNT integer, NAME varchar(255), PRODUCER varchar(255), UNIT_PRICE integer, WEIGHT integer, primary key (ID))
create table License (id integer not null, TITLE varchar(255), VALID_DURATION integer, issuer_NID varchar(255), primary key (id))
create table MERCHANT (NID varchar(255) not null, FIRST_NAME varchar(255), LAST_NAME varchar(255), primary key (NID))
create table Permission (ID integer not null, COUNTRY varchar(255), GOOD_COUNT varchar(255), GOOD_NAME varchar(255), GOOD_PRODUCER varchar(255), PERMIT_DATE date, TRANSPORT_TYPE varchar(255), TOTAL_VALUE integer, license_id integer, owner_NID varchar(255), primary key (ID))
create table USER (type varchar(31) not null, NID varchar(255) not null, FIRST_NAME varchar(255), LAST_NAME varchar(255), PASSWORD varchar(255), ORG_NAME varchar(255), primary key (NID))
create table User_access (User_NID varchar(255) not null, ACC_BOOLEAN boolean, ACCESS integer not null, primary key (User_NID, ACCESS))
alter table DECLARATION_GOODS add constraint UK_masmp3bm3tnwnhc51763s3ix7 unique (goods_ID)
alter table DECLARATION_Permission add constraint UK_7uckyt8etmnnv82hm7ug9yq6h unique (pendingPermission_ID)
alter table DECLARATION_Permission add constraint UK_s6eglgbdi273lb6a4igfoh3om unique (issuedPermission_ID)
create sequence hibernate_sequence start with 1 increment by 1
alter table DECLARATION add constraint FK7bhbf42gqwda2pcsteoibqmn2 foreign key (merchant_NID) references MERCHANT
alter table DECLARATION_GOODS add constraint FK8f85x61inj5b42jyiqdn0nyda foreign key (goods_ID) references GOODS
alter table DECLARATION_GOODS add constraint FKdvctoxpw8abkojyy01646scbs foreign key (Declaration_ID) references DECLARATION
alter table DECLARATION_Permission add constraint FKh3wxt89bqqnosqvx5knkblpf9 foreign key (pendingPermission_ID) references Permission
alter table DECLARATION_Permission add constraint FKj1h479copoc4eumhuxg06dbik foreign key (Declaration_ID) references DECLARATION
alter table DECLARATION_Permission add constraint FKftvdjm744uifm57vop92vvapn foreign key (issuedPermission_ID) references Permission
alter table License add constraint FK90w3tnruhoxckphq3kjy3686w foreign key (issuer_NID) references USER
alter table Permission add constraint FK2nc5jkjn23vbih8123sk2gvmj foreign key (license_id) references License
alter table Permission add constraint FK4l18mqodb6u8afosbokd5gb4s foreign key (owner_NID) references MERCHANT
alter table User_access add constraint FKtrrlkmty7td6hkvuo2y88vku4 foreign key (User_NID) references USER
INSERT INTO USER VALUES('ADMIN','admin','Super','Power','admin',NULL)
INSERT INTO USER_ACCESS VALUES('admin',TRUE,10)
INSERT INTO USER_ACCESS VALUES('admin',TRUE,11)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,1)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,2)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,0)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,6)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,7)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,3)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,4)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,5)
INSERT INTO USER_ACCESS VALUES('admin',FALSE,8)
INSERT INTO USER_ACCESS VALUES('admin',TRUE,9)
COMMIT
INSERT INTO USER VALUES('AGENT','123','Agent','Agentian','123','AB')
INSERT INTO USER_ACCESS VALUES('123',FALSE,10)
INSERT INTO USER_ACCESS VALUES('123',FALSE,11)
INSERT INTO USER_ACCESS VALUES('123',FALSE,1)
INSERT INTO USER_ACCESS VALUES('123',FALSE,2)
INSERT INTO USER_ACCESS VALUES('123',FALSE,0)
INSERT INTO USER_ACCESS VALUES('123',FALSE,6)
INSERT INTO USER_ACCESS VALUES('123',FALSE,7)
INSERT INTO USER_ACCESS VALUES('123',TRUE,3)
INSERT INTO USER_ACCESS VALUES('123',FALSE,4)
INSERT INTO USER_ACCESS VALUES('123',FALSE,5)
INSERT INTO USER_ACCESS VALUES('123',FALSE,8)
INSERT INTO USER_ACCESS VALUES('123',FALSE,9)
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
alter table DECLARATION_GOODS drop constraint UK_masmp3bm3tnwnhc51763s3ix7
alter table DECLARATION_GOODS add constraint UK_masmp3bm3tnwnhc51763s3ix7 unique (goods_ID)
alter table DECLARATION_Permission drop constraint UK_7uckyt8etmnnv82hm7ug9yq6h
alter table DECLARATION_Permission add constraint UK_7uckyt8etmnnv82hm7ug9yq6h unique (pendingPermission_ID)
alter table DECLARATION_Permission drop constraint UK_s6eglgbdi273lb6a4igfoh3om
alter table DECLARATION_Permission add constraint UK_s6eglgbdi273lb6a4igfoh3om unique (issuedPermission_ID)
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table DECLARATION_GOODS drop constraint UK_masmp3bm3tnwnhc51763s3ix7
alter table DECLARATION_GOODS add constraint UK_masmp3bm3tnwnhc51763s3ix7 unique (goods_ID)
alter table DECLARATION_Permission drop constraint UK_7uckyt8etmnnv82hm7ug9yq6h
alter table DECLARATION_Permission add constraint UK_7uckyt8etmnnv82hm7ug9yq6h unique (pendingPermission_ID)
alter table DECLARATION_Permission drop constraint UK_s6eglgbdi273lb6a4igfoh3om
alter table DECLARATION_Permission add constraint UK_s6eglgbdi273lb6a4igfoh3om unique (issuedPermission_ID)
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
alter table DECLARATION_GOODS drop constraint UK_masmp3bm3tnwnhc51763s3ix7
alter table DECLARATION_GOODS add constraint UK_masmp3bm3tnwnhc51763s3ix7 unique (goods_ID)
alter table DECLARATION_Permission drop constraint UK_7uckyt8etmnnv82hm7ug9yq6h
alter table DECLARATION_Permission add constraint UK_7uckyt8etmnnv82hm7ug9yq6h unique (pendingPermission_ID)
alter table DECLARATION_Permission drop constraint UK_s6eglgbdi273lb6a4igfoh3om
alter table DECLARATION_Permission add constraint UK_s6eglgbdi273lb6a4igfoh3om unique (issuedPermission_ID)
DISCONNECT
